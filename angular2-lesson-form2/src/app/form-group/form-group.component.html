<!--
[formGroup]="form"
"form" 변수는 클래스 내부에서 정의된 FormGroup 객체다.
app.module.ts 파일에 ReactiveFormsModule을 추가하면 폼과 폼이 사용해야하는 평가 로직을
다이나믹하게 작동하도록 연동 시킬 수 있다.
 -->
<form class="w3-container" [formGroup]="formX" (ngSubmit)="onSubmit($event)">
  <h2 class="w3-text-red">폼 그룹 기반 검증</h2>
  <p>클래스 내 선언한 FormGroup 객체인 form을 할당하여 검증을 처리한다.</p>

  <p>
    <label class="w3-label w3-text-red">소문자</label>
    <label>{{' : '+formX.get('mandatory').valid}}</label>
    <label>{{' : '+formX.value.mandatory}}</label>
    <input class="w3-input w3-border" type="text"
      formControlName="mandatory" pattern="[a-z]{3,4}">
  </p>
  <p>
    <label class="w3-label w3-text-red">대문자</label>
    <label>{{' : '+formX.get('upperCase').valid}}</label>
    <label>{{' : '+formX.value.upperCase}}</label>
    <input class="w3-input w3-border" type="text"
      formControlName="upperCase">
  </p>
  <p>
    <button class="w3-btn w3-blue" type="submit" *ngIf="formX.valid">Send</button>
  </p>
</form>

<div class="w3-container">
  <button class="w3-btn w3-blue" (click)="setValue()">Set value</button>
  <button class="w3-btn w3-blue" (click)="reset()">Reset value</button>
  <button class="w3-btn w3-blue" (click)="patch()">Patch value</button>
</div>

<hr />

<div>
  formX.valid : {{formX.valid}} <br />
  formX.status : {{formX.status}} <br />
  formX.value : <pre>{{formX.value | json}}</pre>
</div>
